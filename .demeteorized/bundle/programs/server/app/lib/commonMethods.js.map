{"version":3,"sources":["meteor://ðŸ’»app/lib/commonMethods.js"],"names":[],"mappings":";;;;;;;;AAAA,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;;AAElB,MAAM,CAAC,OAAO,CAAC;AACd,eAAa,EAAE,UAAS,OAAO,EAAE,MAAM,EAAE,YAAY,EAAE;AACtD,QAAI,aAAa,GAAG;AACnB,aAAO,EAAE,OAAO;AAChB,eAAS,EAAE,IAAI,CAAC,GAAG,EAAE;AACrB,YAAM,EAAE,MAAM;AACd,WAAK,EAAE,KAAK;KACZ;AACD,eAAW,CAAC,MAAM,CAAC,EAAC,GAAG,EAAE,YAAY,EAAC,EAAE,EAAC,KAAK,EAAE,EAAC,IAAI,EAAE,aAAa,EAAC,EAAC,CAAC,CAAC;;AAExE,YAAQ,CAAC,MAAM,EAAE,OAAO,CAAC;;GAEzB;;;;;;;;CAQD,CAAC,CAAC;;AAEH,IAAI,QAAQ,GAAG,UAAS,IAAI,EAAE,OAAO,EAAE;AACrC,MAAI,CAAC,IAAI,CAAC;AACR,QAAI,EAAE,QAAQ;AACd,SAAK,EAAE,0BAA0B;AACjC,QAAI,EAAE,OAAO;AACb,SAAK,EAAE,CAAC;AACR,SAAK,EAAE,OAAO;AACd,SAAK,EAAE;AACL,YAAM,EAAE,IAAI;KACb;GACF,CAAC,CAAC;CACJ,wE","file":"/lib/commonMethods.js","sourcesContent":["Push.debug = true; // Add verbosity\n\nMeteor.methods({\n\t'sendMessage': function(message, sender, connectionId) {\n\t\tvar messageInsert = {\n\t\t\tmessage: message,\n\t\t\ttimestamp: Date.now(),\n\t\t\tsender: sender,\n\t\t\tstate: \"new\"\n\t\t}\n\t\tConnections.update({_id: connectionId}, {$push: {chat: messageInsert}});\n\n\t\tsendPush(sender, message)\n\t\t// sendNotification(personId, ratedBy, message, \"info\")\n\t}\n\n\t// 'readMessage': function(msgsRead, connectionId) {\n\t// \tvar msgsStamps = msgsRead;\n\t// \tmsgsStamps.forEach(function(element){\n\t// \t\tConnections.findOne(connectionId).chat\n\t// \t})\n\t// }\n});\n\nvar sendPush = function(toId, message) {\n  Push.send({\n    from: 'partiO',\n    title: 'partiO chat notification',\n    text: message,\n    badge: 1,\n    sound: 'check',\n    query: {\n      userId: toId\n    }\n  });\n}"]}