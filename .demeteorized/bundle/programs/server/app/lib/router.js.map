{"version":3,"sources":["meteor://ðŸ’»app/lib/router.js"],"names":[],"mappings":"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","file":"/lib/router.js","sourcesContent":["Push.debug = true;\n\n\n//if (Meteor.isCordova) {\n\nRouter.configure({\n\tlayoutTemplate: 'appLayout'\n});\n\nRouter.route('/', { name: 'main' });\nRouter.route('/verify-email/:token', {name: 'emailverification'});\nRouter.route('/reset-password/:token', {name: 'resetpassword'});\n\nRouter.route('/login', { \n\tname: 'login',\n\tloadingTemplate: 'loadingTemplate',\n\twaitOn:function(){\n\t\tAccounts.loginServicesConfigured();\n\t}\n});\nRouter.route('/lend', {name: 'lend' });\nRouter.route('/inventory', {name: 'inventory'});\nRouter.route('/inventory/:_id', {\n\tname: 'inventoryDetail',\n\tdata: function() {\n\t\treturn Products.findOne({_id: this.params._id});\n\t}\n});\nRouter.route('/inventory/connect/:_id', {\n\tname: 'connect',\n\tdata: function() {\n\t\treturn Connections.findOne({_id: this.params._id});\n\t}\n});\nRouter.route('/renting', {name: 'renting'});\n\nRouter.route('/renting/connect/:_id', {\n\tname: 'connectRent',\n\tdata: function() {\n\t\treturn Connections.findOne({_id: this.params._id});\n\t}\n});\n\nRouter.route('/chat/:_id', {\n\tname: 'chat',\n\tdata: function() {\n\t\treturn Connections.findOne({_id: this.params._id});\n\t}\n});\n\nRouter.route('/listing', {name: 'listing'});\n\nRouter.route('/listing/search/:_id', {\n\tname: 'search',\n\tdata: function() {\n\t\treturn this.params;\n\t\t// var ean = Search.findOne(this.params._id).ean;\n\t\t// return Products.find({\"ean\": ean});\n\t}\n});\n\nRouter.route('/listing/:_id', {\n\tname: 'bookDetail',\n\tdata: function() {\n\t\treturn Products.findOne({_id: this.params._id});\n\t}\n});\nRouter.route('/transactions', {name: 'transactions'});\nRouter.route('/profile', {name: 'profile'})\nRouter.route('/profile/savedcards', {name: 'savedCards'});\nRouter.route('/profile/bankaccount', {name: 'bankAccount'});\n\nRouter.route('/stripeAccount', {name: 'stripeAccount'});\n\nRouter.route('/notifications', {name: 'notifications'});\n\nRouter.onBeforeAction(loginChecker, {except: ['emailverification']} );\nRouter.onAfterAction(stopSpinner);\n\nfunction loginChecker() {\n\t// if (Meteor.isClient && Meteor.userId()) {\n\t\tif (Meteor.userId()) {\n\t\t\tif (Meteor.user().emails && Meteor.user().emails[0].verified) {\n\t\t\t\tthis.next();\n\t\t\t} else {\n\t\t\t\tthis.render('profile');\n\t\t\t}\t\n\t\t} else {\n\t\t\tif (Meteor.loggingIn()) {\n\t\t\t\tIonLoading.show();\n\t\t\t} else {\n\t\t\t\tthis.render('login');\n\t\t\t} \n\t\t}\n}\n\nfunction stopSpinner() {\n\tIonLoading.hide();\n}\n\t\n//}\n"]}