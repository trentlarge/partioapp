{"version":3,"sources":["meteor://ðŸ’»app/server/collectionHooks.js"],"names":[],"mappings":";;;;;;;;AAAA,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,UAAS,MAAM,EAAE,GAAG,EAAE;AAC3C,QAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;AACpB,KAAI,WAAW,GAAG,MAAM,CAAC,OAAO,CAAC,EAAC,KAAK,EAAE,GAAG,CAAC,GAAG,EAAC,CAAC;AAClD,KAAI,WAAW,EAAE;AAChB,QAAM,CAAC,MAAM,CAAC,EAAC,GAAG,EAAE,WAAW,CAAC,GAAG,EAAC,EAAE,EAAC,IAAI,EAAE,EAAC,GAAG,EAAE,CAAC,EAAC,EAAC,CAAC;EACvD,MAAM;AACN,MAAI,MAAM,GAAG;AACZ,MAAG,EAAE,GAAG,CAAC,GAAG;AACZ,QAAK,EAAE,GAAG,CAAC,KAAK;AAChB,QAAK,EAAE,GAAG,CAAC,KAAK;AAChB,UAAO,EAAE,GAAG,CAAC,OAAO;AACpB,MAAG,EAAE,CAAC;AACN,kBAAe,EAAE,GAAG,CAAC,GAAG;GACxB;AACD,QAAM,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;EACtB;CACD,CAAC,uE","file":"/server/collectionHooks.js","sourcesContent":["Products.after.insert(function(userId, doc) {\n\tconsole.log(userId);\n\tvar existingDoc = Search.findOne({\"ean\": doc.ean})\n\tif (existingDoc) {\n\t\tSearch.update({_id: existingDoc._id}, {$inc: {qty: 1}})\n\t} else {\n\t\tvar newDoc = {\n\t\t\tean: doc.ean,\n\t\t\timage: doc.image,\n\t\t\ttitle: doc.title,\n\t\t\tauthors: doc.authors,\n\t\t\tqty: 1,\n\t\t\tproductUniqueId: doc._id\n\t\t}\n\t\tSearch.insert(newDoc);\t\n\t}\n})\n"]}