<template name="profile">

  {{#if currentUser.emails.[0].verified}}
    {{#contentFor "headerButtonLeft"}}
        {{#if profileEdit}}
          <button id="cancelProfile" class="button button-clear button-stable">Cancel</button>
        {{else}}
          <button class="button button-clear pull-left" data-ion-menu-toggle="left">
            {{#if isAndroid}}
            {{> ionIcon icon='android-more-vertical'}}
            {{else}}
            {{> ionIcon icon='navicon' class="energized"}}
            {{/if}}
          </button>
        {{/if}}
    {{/contentFor}}

    {{#contentFor "headerTitle"}}
      <h1 class="title">Profile</h1>
    {{/contentFor}}

    {{#contentFor "headerButtonRight"}}
      {{#if profileEdit}}
        <button id="saveProfile" class="button button-clear button-energized">Save</button>
        {{else}}
          <a href="/" class="button button-clear">
              <object id="spinner-logo-simple" data="/logo/spinner-logo-simple.svg" type="image/svg+xml"></object>
          </a>
      {{/if}}
    {{/contentFor}}
  {{else}}
    {{#contentFor "headerTitle"}}
      <h1 class="title">
          <object id="spinner-logo-simple" data="/logo/spinner-logo-simple.svg" type="image/svg+xml"></object>
      </h1>
    {{/contentFor}}
  {{/if}}

  {{#ionView}}
    {{#ionContent}}
    <!-- <div class="content has-header"> -->

      {{> settingsProfileImage}}

      <div class="list list-inset">
        <form id="profileEdit">
          <label class="item item-input">
            <span class="input-label"><p>Name</p></span>
            <input id="profilename" type="text" value="{{currentUser.profile.name}}">
          </label>
<!--           <label class="item item-input">
            <span class="input-label"><p>University</p></span>
            <input id="profileuniversity" type="text" value="{{currentUser.profile.college}}">
          </label> -->
          <label class="item item-input">
            <span class="input-label"><p>Mobile</p></span>
            <input id="profilemobile" type="text" value="{{currentUser.profile.mobile}}">
          </label>
        </form>
       {{#if emailSet}}

         <label class="item item-input">
          <span class="input-label"><p>University</p></span>
          <input disabled id="profileuniversity" type="text" value="{{currentUser.profile.college}}">
        </label>
        <label class="item item-input">
          <span class="input-label"><p>Email</p></span>
          <input disabled type="email" value="{{currentUser.emails.[0].address}}">
        </label>
       {{else}}
         <label class="item item-input item-select college-select">
          <div class="input-label"><p>College</p></div>
          <select id="profileuniversity">
            <option selected style="color:green;">Select</option>
            <option>Duke University</option>
            <option>Rollins College</option>
            <option>Test Gmail IDs</option>
          </select>
        </label>
        <label class="item item-input">
          <span class="input-label"><p>Email</p></span>
          <input type="email" value="{{currentUser.email.[0].address}}" placeholder="Enter Email" id="profileemail">
        </label>
        {{/if}}
      </div>

      <div class="padding-horizontal">
      {{#if currentUser.emails.[0].verified}}


        <a class="item item-icon-right" href="{{pathFor 'changePassword'}}" >
          <p>Change Password</p>
          {{> ionIcon icon="ios-arrow-right" class="energized right-arrow"}}
        </a>
      {{/if}}
      </div>
<br />

      <div class="padding-horizontal">
      {{#if currentUser.emails.[0].verified}}
      <a class="item item-icon-right" href="{{pathFor 'savedCards'}}" >
        <p>Payment Cards</p>
        {{> ionIcon icon="ios-arrow-right" class="energized right-arrow"}}
      </a>
      {{/if}}
      </div>
<br />

      <div class="padding-horizontal">
      {{#if currentUser.emails.[0].verified}}
        <a class="item item-icon-right" id="logout"  >
          <p>Logout</p>
          {{> ionIcon icon="android-exit" class="energized right-arrow"}}
        </a>
      {{else}}
        {{#if emailSet}}
          <br>
          <h2 class="assertive center">Verify your email address to proceed</h2>
        {{else}}
          <p class="dark center">Your Email should be your official college email address</p>
          <br>
          <button id="save-college-email" class="button button-block button-energized">SAVE</button>
        {{/if}}
      {{/if}}
      </div>
<!-- </div> -->
    {{/ionContent}}
  {{/ionView}}
</template>

<template name="settingsProfileImage">
  <div class="profile-image-container">
    {{#if noProfileYet}}
    <div class="profile-avatar" style="background: url('profile_image_placeholder.jpg') no-repeat; background-size:cover; background-position: 50% 50%;"></div>
    {{else}}
    <div class="profile-avatar" style="background: url('{{profileImage}}') no-repeat; background-size:cover; background-position: 50% 50%;"></div>
    {{/if}}
  </div>
  <input type="file" id="browser-file-upload">
</template>
