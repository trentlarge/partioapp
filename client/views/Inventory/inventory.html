<template name="inventory">
  {{#contentFor "headerButtonLeft"}}
      <button class="button button-clear pull-left" data-ion-menu-toggle="left">
        {{#if isAndroid}}
        {{> ionIcon icon='android-more-vertical'}}
        {{else}}
        {{> ionIcon icon='navicon' class="energized"}}
        {{/if}}
      </button>
  {{/contentFor}}

  {{#contentFor "headerTitle"}}
    <h1 class="title">Inventory</h1>
  {{/contentFor}}

  {{#contentFor "headerButtonRight"}}
    <a href="/" class="button button-clear">
        <object id="spinner-logo-simple" data="/logo/spinner-logo-simple.svg" type="image/svg+xml"></object>
    </a>
  {{/contentFor}}

<!--
  {{#contentFor "headerButtonRight"}}
    <button class="button button-clear" data-ion-modal="lend">{{> ionIcon icon="ios-plus-outline" class="assertive"}}</button>
  {{/contentFor}}
-->

  {{#ionView}}
    {{#ionContent class="product-list"}}

    {{#if dataExists}}
      {{#if newRequests.count}}
        <div class="list">
        <div class="item item-divider"><h3>Requests from others</h3></div>
        {{#each newRequests}}

          {{#if statusWaiting}}
              {{#ionItem class="item-avatar-2 item-button-right"}}
                  <div  class="book-avatar"><div class="book-avatar-inner" style="background: url('{{productData.image}}') no-repeat; background-size:cover; background-position: 50% 20%;"></div></div>
                  <p class="main-title-text">{{productData.title}}</p>
                  <p class="main-sub-text">Rent: ${{productData.rentPrice.day}}|${{productData.rentPrice.week}}|${{productData.rentPrice.month}}|${{productData.rentPrice.semester}}</p>
                  <button id="respondToReq" class="button button-energized request-lower"><h6>Respond</h6></button>
              {{/ionItem}}
          {{else}}
              {{#ionItem path="connect" _id=this._id class="item-avatar-2  item-button-right"}}
              <div  class="book-avatar"><div class="book-avatar-inner" style="background: url('{{productData.image}}') no-repeat; background-size:cover; background-position: 50% 20%;"></div></div>
              <p class="main-title-text">{{productData.title}}</p>
              <p class="main-sub-text">Rent: ${{productData.rentPrice.day}}|${{productData.rentPrice.week}}|${{productData.rentPrice.month}}|${{productData.rentPrice.semester}}</p>
              <span class="badge badge-low badge-energized">{{state}}</span>
              {{/ionItem}}
          {{/if}}

        {{/each}}
        </div>
      {{/if}}

      {{#if myBooks.count}}
        <div class="list">
        <div class="item item-divider"><h3>My Products</h3></div>
        {{#each myBooks}}

          {{#ionItem path='inventoryDetail' _id=this._id iconRight=true class="item-avatar-2"}}
              <div class="book-avatar"><div class="book-avatar-inner" style="background: url('{{image}}') no-repeat; background-size:cover; background-position: 50% 20%;"></div></div>
              <p class="main-title-text">{{title}}</p>
              <p class="main-sub-text">Rent: ${{rentPrice.day}}|${{rentPrice.week}}|${{rentPrice.month}}|${{rentPrice.semester}}</p>
              <p class="main-sub-text">Description: {{description}}</p>
              {{> ionIcon icon="ios-arrow-right" class="energized right-arrow"}}
          {{/ionItem}}
        {{/each}}
        </div>
      {{/if}}
    {{else}}
      <div class="Aligner">
        <h6 class="dark">Start sharing your items on partiO!</h6>
      </div>
    {{/if}}

    {{/ionContent}}
  {{/ionView}}
</template>


<template name="inventoryDetail">
  {{#contentFor "headerButtonLeft"}}
      {{>ionNavBackButton path="inventory" class="backFromEdit"}}
  {{/contentFor}}

  {{#contentFor "headerTitle"}}
    <h1 class="title">Product Details</h1>
  {{/contentFor}}

  {{#contentFor "headerButtonRight"}}
    <button class="button button-clear icon ion-ios-compose-outline button-energized" id="editCurrent"></button>
  {{/contentFor}}

  {{#ionView}}
     {{#ionContent class="details no-header overflow-scroll"}}

<!--     <div class="product-image" style="background-image: url('{{image}}');"></div>-->


        <div class="center">
            <img class="product-image" src="{{image}}"/>
            <span class="product-title"> {{title}} </span>
        </div>

    <div class="product-details-container card">

        <div class="list">

          <a class="item item-icon-left" href="#">
            <i class="icon ion-cash"></i>
            {{price}}
          </a>

          <a class="item item-icon-left" href="#">
            <i class="icon {{getCategoryIcon}}"></i>
            {{amazonCategory}}
          </a>

          <div class="item item-divider features">
            Features <i class="chevron-icon icon ion-chevron-right"></i>
          </div>

          <div class="row features-details hidden">
                <div class="col col-25">
                    {{#each attributes}}
                    <p>{{key}}</p>
                    {{/each}}
                </div>
                <div class="col col-75 scan-result">
                    {{#each attributes}}
                    <p>{{value}}</p>
                    {{/each}}
                </div>
            </div>

          <div class="item item-divider features">
            Condition of the item
          </div>

          <a class="item" href="#">
            {{#if editMode}}
                <textarea name="description" class="fieldDescriptionLend" rows="8">{{description}}</textarea>
            {{else}}
                <textarea name="description" class="fieldDescriptionLend" rows="8" disabled>{{description}}</textarea>
            {{/if}}
          </a>

          <div class="item item-divider features">
            Rent Price
          </div>

          <a class="item" href="#">
            {{#if editMode}}
                <input class="dayPrice" type="number" id="editPrice" value="{{rentPrice.day}}" style="display:inline;">
            {{else}}
                ${{rentPrice.day}}
            {{/if}}
            <span class="item-note">
              Day
            </span>
          </a>

           <a class="item" href="#">
            {{#if editMode}}
                <input class="weekPrice" type="number" id="editPrice" value="{{rentPrice.week}}" style="display:inline;">
            {{else}}
                ${{rentPrice.week}}
            {{/if}}
            <span class="item-note">
              Week
            </span>
          </a>

           <a class="item" href="#">
            {{#if editMode}}
                <input class="monthPrice" type="number" id="editPrice" value="{{rentPrice.month}}" style="display:inline;">
            {{else}}
                ${{rentPrice.month}}
            {{/if}}
            <span class="item-note">
              Month
            </span>
          </a>

           <a class="item" href="#">
            {{#if editMode}}
                <input class="semesterPrice" type="number" id="editPrice" value="{{rentPrice.semester}}" style="display:inline;">
            {{else}}
                ${{rentPrice.semester}}
            {{/if}}
            <span class="item-note">
              Semester
            </span>
          </a>

           {{#if editMode}}
            <div class="padding-horizontal">
                <button id="editSave" class="button button-block button-energized">SAVE</button>
            </div>
            {{else}}
                <div class="padding-horizontal">
                    <button id="editCurrent" class="button button-block">EDIT</button>
                </div>
            {{/if}}

        </div>
    </div>

<!--
        <div class="row-details">
            <div class="col col-50">
                <div class="details-box">
                    <i class="icon ion-cash bk-energized"></i>
                    <span class="detail">{{price}}</span>
                </div>
            </div>
            <div class="col col-50">
                <div class="details-box">
                    <i class="icon {{getCategoryIcon}} bk-energized"></i>
                    <span class="detail">{{amazonCategory}}</span>
                </div>
            </div>
         </div>
-->

<!--
        <div class="subtitle-box features">
            <div class="center">
                <span>FEATURES </span><i class="chevron-icon icon ion-chevron-right"></i>
            </div>
        </div>
-->

<!--
        <div class="row features-details hidden">
            <div class="col col-25">
                {{#each attributes}}
                <p>{{key}}</p>
                {{/each}}
            </div>
            <div class="col col-75 scan-result">
                {{#each attributes}}
                <p>{{value}}</p>
                {{/each}}
            </div>
        </div>
-->

<!--
        <div class="subtitle-box">
            <div class="center">
                <span>DESCRIPTION</span>
            </div>
        </div>

        <div class="row">
            <div class="col col-100">
                {{#if editMode}}
                    <textarea name="description" class="fieldDescriptionLend" rows="8">{{description}}</textarea>
                {{else}}
                    <textarea name="description" class="fieldDescriptionLend" rows="8" disabled>{{description}}</textarea>
                {{/if}}
            </div>
        </div>
-->

<!--
        <div class="subtitle-box">
            <div class="center">
                <span>RENT PRICE</span>
            </div>
        </div>

        <div class="row-details">
            <div class="col col-50">
                <div class="details-box">
                    <span class="customPrice bk-energized"> D </span>
                    {{#if editMode}}
                        <input class="detail dayPrice" type="number" id="editPrice" value="{{rentPrice.day}}">
                    {{else}}
                        <span class="detail">${{rentPrice.day}}</span>
                    {{/if}}
                </div>
            </div>
            <div class="col col-50">
                <div class="details-box">
                    <span class="customPrice bk-energized"> W </span>
                    {{#if editMode}}
                        <input class="detail weekPrice" type="number" id="editPrice" value="{{rentPrice.week}}">
                    {{else}}
                        <span class="detail">${{rentPrice.week}}</span>
                    {{/if}}
                </div>
            </div>
        </div>
        <div class="row-details">
            <div class="col col-50">
                <div class="details-box">
                    <span class="customPrice bk-assertive"> M </span>
                    {{#if editMode}}
                        <input class="detail monthPrice" type="number" id="editPrice" value="{{rentPrice.month}}">
                    {{else}}
                        <span class="detail">${{rentPrice.month}}</span>
                    {{/if}}
                </div>
            </div>
            <div class="col col-50">
                <div class="details-box">
                    <span class="customPrice bk-assertive"> S </span>
                    {{#if editMode}}
                        <input class="detail semesterPrice" type="number" id="editPrice" value="{{rentPrice.semester}}">
                    {{else}}
                        <span class="detail">${{rentPrice.semester}}</span>
                    {{/if}}
                </div>
            </div>
        </div>

        {{#if editMode}}
            <div class="padding-horizontal">
                <button id="editSave" class="button button-block button-energized">SAVE</button>
            </div>
        {{else}}
            <div class="padding-horizontal">
                <button id="editCurrent" class="button button-block">EDIT</button>
            </div>
        {{/if}}

    </div>
-->

<!--
  <div class="content has-header">
      <div class="card">

        <div class="row item row-center">
          <div class="col col-33">
            <div class="bookDetail-container">
              <div class="bookThumbnail" style="background-image: url('{{image}}'); "></div>
            </div>
          </div>
          <div class="col col-67 item-text-wrap">
            <h3>{{title}}</h3>
          </div>
        </div>

        <div class="item no-padding small-font">

          <div class="row row-center">
            <div class="col-offset-10"></div>
            <div class="col col-33">
            </div>
            <div class="col col-67 item-text-wrap keep-inside-padding">
              {{#with userInfo}}
              <p class="dark">{{name}}</p>
              <p class="dark line-height-one">{{college}}</p>
              {{/with}}
            </div>
          </div>

          <div class="row">
            {{#if manualEntry}}
              <div class="col col-33">
                <p>Publisher</p>
                <p>Description</p>
              </div>
              <div class="col col-67 item-text-wrap keep-inside-padding">
                <p>{{publisher}}</p>
                <p>{{comments}}</p>
              </div>
            {{else}}
              <div class="col col-33">
                    <p>Amazon $</p>
                    <p>Category</p>
                    {{#each attributes}}
                    <p>{{key}}</p>
                    {{/each}}
                </div>
                <div class="col col-67 scan-result">
                    <p>{{price}}</p>
                    <p>{{amazonCategory}} ({{category}})</p>
                    {{#each attributes}}
                    <p>{{value}}</p>
                    {{/each}}
                </div>
            {{/if}}
          </div>

        </div>

        {{#if editMode}}
        <div class="list list-inset">
            <label class="item item-input">
                <span class="input-label"><p>Edit Price $</p></span>
                <input class="col col-50" type="number" id="editPrice" value="{{customPrice}}">
            </label>
            <label class="item item-input">
                <span class="input-label"><p>Description:</p></span>
                <textarea name="description" class="fieldDescriptionLend" rows="8" cols="40">{{description}}</textarea>
            </label>
        </div>

        {{else}}
        <div class="row item">
          <div class="col-offset-10">
          </div>
          <div class="col col-33"><p>Rent</p></div>
          <div class="col col-50"><p>${{customPrice}} / week</p></div>
        </div>
        {{/if}}

      </div>

      {{#if editMode}}
      <div class="padding-horizontal">
        <button id="editSave" class="button button-block button-energized">SAVE</button>
      </div>
      {{/if}}
      </div>
-->
     {{/ionContent}}
  {{/ionView}}
</template>
